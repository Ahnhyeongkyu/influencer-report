# SNS 인플루언서 마케팅 성과 리포트 자동화 시스템
## 설치 및 사용 매뉴얼 (v1.7.3 / 2026.02.08 업데이트)

---

## 1. 시스템 요구사항

| 항목 | Windows | Mac |
|-----|---------|-----|
| 운영체제 | Windows 10/11 | macOS 12 이상 |
| Python | 3.9 이상 | 3.9 이상 |
| 브라우저 | Chrome (최신 버전) | Chrome (최신 버전) |
| 메모리 | 4GB 이상 권장 | 4GB 이상 권장 |

---

## 2. 설치 방법 (최초 1회만)

### 2.1 Python 설치

#### Windows
1. https://www.python.org/downloads/ 접속
2. Python 3.10 이상 다운로드
3. **설치 시 "Add Python to PATH" 체크 필수!**

#### Mac
1. **터미널**을 엽니다 (Finder > 응용 프로그램 > 유틸리티 > 터미널)
2. 아래 명령어를 입력하여 Python 버전을 확인합니다:
   ```
   python3 --version
   ```
3. Python 3.9 이상이면 그대로 사용합니다
4. 없거나 버전이 낮으면 https://www.python.org/downloads/ 에서 macOS용 다운로드

> **Mac 주의**: Mac에서는 `python` 대신 반드시 `python3`, `pip` 대신 `pip3`를 사용하세요. (Anaconda 사용자는 `python`/`pip` 가능)

### 2.2 프로그램 설치

#### Windows
**`설치.bat` 파일을 더블클릭하세요.**

자동으로 다음 작업이 수행됩니다:
- Python 버전 확인
- pip 업그레이드
- 필요한 패키지 설치 (약 2-3분 소요)

설치 완료 메시지가 표시되면 창을 닫으세요.

#### Mac
**터미널에서 아래 명령어를 순서대로 실행하세요:**

1. 프로젝트 폴더로 이동 (Finder에서 폴더를 터미널에 드래그&드롭 가능):
   ```
   cd /경로/픽스업_influencer-report
   ```
   > 팁: `cd ` 입력 후 Finder에서 폴더를 터미널 창으로 드래그하면 경로가 자동 입력됩니다

2. 패키지 설치:
   ```
   pip3 install -r requirements.txt
   ```

---

## 3. 실행 방법

### 3.1 프로그램 실행

#### Windows
**`픽스업_리포트.bat` 파일을 더블클릭하세요.**

자동으로:
- 서버가 시작됩니다
- 브라우저가 열립니다

#### Mac
**터미널에서 아래 명령어를 실행하세요:**

1. 프로젝트 폴더로 이동:
   ```
   cd /경로/픽스업_influencer-report
   ```
2. 앱 실행:
   ```
   python3 -m streamlit run src/app.py
   ```
3. 브라우저가 자동으로 열립니다

> **중요**: 위 명령어는 반드시 **터미널**에서 실행하세요. Python REPL(>>> 프롬프트)이나 Jupyter에서 실행하면 `SyntaxError`가 발생합니다.

### 3.2 웹 브라우저에서 접속
- 주소: http://localhost:8501
- 자동으로 브라우저가 열립니다
- 열리지 않으면 위 주소를 직접 입력하세요

### 3.3 프로그램 종료
- **Windows**: 콘솔 창(검은 창)을 닫으면 프로그램이 종료됩니다
- **Mac**: 터미널에서 `Ctrl+C`를 누르면 종료됩니다

### 3.4 로그인
- **아이디**: (관리자에게 문의)
- **비밀번호**: (관리자에게 문의)

---

## 4. 사용 방법

### 4.1 URL 입력
1. 로그인 후 메인 화면에서 URL 입력란에 수집할 게시물 URL을 입력합니다
2. 여러 개의 URL은 줄바꿈으로 구분합니다
3. "수집 시작" 버튼을 클릭합니다

### 4.2 지원 플랫폼 및 URL 형식

| 플랫폼 | URL 형식 예시 |
|-------|-------------|
| 샤오홍슈 | https://www.xiaohongshu.com/explore/xxxxx |
| | https://xhslink.com/xxxxx |
| 유튜브 | https://www.youtube.com/watch?v=xxxxx |
| | https://youtu.be/xxxxx |
| 인스타그램 | https://www.instagram.com/p/xxxxx/ |
| | https://www.instagram.com/reel/xxxxx/ |
| 페이스북 | https://www.facebook.com/xxxxx/posts/xxxxx |
| 디카드 | https://www.dcard.tw/f/xxx/p/xxxxx |

### 4.3 데이터 수집
- 수집 버튼 클릭 시 자동으로 각 플랫폼의 데이터를 수집합니다
- 수집 항목: 좋아요, 댓글, 공유, 조회수, 작성자 정보, 썸네일, 게시물 내용 등

### 4.4 데이터 다운로드
- **CSV 다운로드**: 수집된 데이터를 CSV 파일로 다운로드
- **Excel 다운로드**: 수집 데이터 + 댓글 시트가 포함된 Excel 파일 다운로드

### 4.5 PDF 리포트 생성
1. 데이터 수집 완료 후 "리포트 생성" 버튼을 클릭합니다
2. 캠페인명과 광고주명을 입력합니다
3. PDF 파일이 자동으로 생성되어 다운로드됩니다

---

## 5. 플랫폼별 인증 방법 (중요!)

### 5.0 인증 모드 사용법

**인증 모드**는 QR 인증이나 Cloudflare 인증이 필요한 플랫폼에서 사용합니다.

1. 좌측 사이드바에서 **"인증 모드"** 체크박스를 선택합니다
2. 수집 시작 시 브라우저 창이 열립니다
3. 인증 화면에서 수동으로 인증을 완료합니다
4. 인증 완료 후 자동으로 데이터 수집이 진행됩니다
5. 인증 정보(쿠키)가 저장되어 이후에는 자동 로그인됩니다

### 5.1 샤오홍슈 (小红书) - QR 인증 필요

**사용 방법:**
1. **인증 모드** 체크박스를 선택합니다
2. 샤오홍슈 URL을 입력하고 수집을 시작합니다
3. 브라우저 창에 QR 코드가 표시됩니다
4. **샤오홍슈 앱**으로 QR 코드를 스캔합니다 (120초 내)
5. 인증 완료 후 자동으로 데이터가 수집됩니다

**참고:**
- 쿠키가 저장되어 다음부터는 자동 로그인됩니다
- 세션 만료 시 다시 QR 인증이 필요합니다

### 5.2 인스타그램 - 브라우저 로그인 (권장)

**사용 방법:**
1. 좌측 사이드바 **"플랫폼 로그인"** 섹션을 펼칩니다
2. 인스타그램 탭에서 **"브라우저에서 인스타그램 로그인"** 버튼을 클릭합니다
3. Chrome 창이 열리면 **평소처럼 로그인**합니다
4. 로그인 완료 시 자동으로 쿠키가 저장됩니다
5. 이후 인스타그램 URL 수집이 가능합니다

**참고:**
- 로그인 정보는 안전하게 저장되어 다음에도 사용됩니다
- 세션 만료 시 다시 로그인하면 됩니다

### 5.3 페이스북 - 브라우저 로그인 (권장)

**사용 방법:**
1. 좌측 사이드바 **"플랫폼 로그인"** 섹션을 펼칩니다
2. 페이스북 탭에서 **"브라우저에서 페이스북 로그인"** 버튼을 클릭합니다
3. Chrome 창이 열리면 **평소처럼 로그인**합니다
4. 캡챠가 뜨면 해결하고 로그인을 완료합니다
5. 로그인 완료 시 자동으로 쿠키가 저장됩니다

**참고:**
- 2단계 인증이 있어도 정상 작동합니다
- 로그인 정보는 안전하게 저장되어 다음에도 사용됩니다

### 5.4 디카드 - Cloudflare 인증 필요

**사용 방법:**
1. **인증 모드** 체크박스를 선택합니다
2. 디카드 URL을 입력하고 수집을 시작합니다
3. 브라우저 창에 Cloudflare 인증 화면이 표시됩니다
4. "I'm not a robot" 체크박스를 클릭합니다 (30초 내)
5. 인증 완료 후 자동으로 데이터가 수집됩니다

**참고:**
- 쿠키가 저장되어 다음부터는 자동 통과됩니다
- Cloudflare 인증은 일정 시간 후 만료됩니다

### 5.5 유튜브 - 인증 불필요

- **로그인 없이 모든 공개 영상 수집 가능합니다**
- Shorts, 일반 영상 모두 지원
- 가장 안정적으로 작동하는 플랫폼입니다

---

## 6. 흔한 실수 해결

### 6.1 SyntaxError가 발생할 때

**증상:**
```
>>> python3 -m streamlit run src/app.py
  File "<stdin>", line 1
SyntaxError: invalid syntax
```

**원인:** Python REPL(>>> 프롬프트) 안에서 명령어를 실행한 경우입니다.

**해결:**
- `exit()` 입력하여 Python REPL을 종료한 후
- **터미널** 프롬프트(`$` 또는 `%`)에서 명령어를 다시 실행하세요

### 6.2 "command not found" 오류 (Mac)

**증상:** `python: command not found`

**해결:** Mac에서는 `python3`을 사용하세요:
```
python3 -m streamlit run src/app.py
```

### 6.3 프로그램이 실행되지 않을 때
- **Windows**: `설치.bat` 파일을 다시 실행하여 패키지를 재설치하세요
- **Mac**: 터미널에서 `pip3 install -r requirements.txt` 재실행

### 6.4 Chrome 관련 오류
- Chrome 브라우저를 최신 버전으로 업데이트하세요
- ChromeDriver는 자동으로 관리됩니다
- 브라우저 창이 너무 많이 열리면:
  - **Windows**: 작업관리자에서 Chrome 프로세스 종료
  - **Mac**: 활성 상태 보기(Activity Monitor)에서 Chrome 종료

### 6.5 크롤링 실패 시

| 증상 | 해결 방법 |
|-----|---------|
| "성공 N / 실패 0" 인데 데이터 없음 | 인증이 필요한 플랫폼입니다. 인증 모드를 사용하세요 |
| 타임아웃 오류 | 네트워크 상태 확인, 잠시 후 재시도 |
| 로그인 필요 메시지 | 해당 플랫폼 쿠키 설정 필요 |
| Cloudflare 차단 | 인증 모드 사용하여 수동 인증 |
| QR 인증 타임아웃 | 인증 모드 사용, 120초 내에 QR 스캔 |

### 6.6 쿠키가 만료되었을 때
1. 해당 플랫폼에 브라우저로 다시 로그인합니다
2. 새 쿠키 값을 복사합니다
3. 프로그램에서 쿠키를 다시 입력합니다

### 6.7 PDF 생성 오류
- data 폴더에 충분한 저장 공간이 있는지 확인하세요
- 수집된 데이터가 있는지 확인하세요
- 유효한 데이터가 하나도 없으면 PDF가 생성되지 않습니다

---

## 7. 파일 구조

```
픽스업_influencer-report/
├── 설치.bat               # 설치 파일 (Windows, 최초 1회 실행)
├── 픽스업_리포트.bat      # 프로그램 실행 파일 (Windows, 더블클릭)
├── launcher.py            # 프로그램 실행 (Python 직접 실행)
├── src/                    # 소스 코드
│   ├── app.py             # 메인 애플리케이션
│   ├── crawlers/          # 플랫폼별 크롤러
│   └── report/            # PDF 리포트 생성
├── config/                 # 설정 파일
├── data/                   # 데이터 저장
│   └── cookies/           # 로그인 세션 저장
├── logs/                   # 로그 파일
└── requirements.txt       # 필수 패키지 목록
```

---

## 8. 지원 및 문의

- **담당자**: 안형규
- **이메일**: houng8087@gmail.com
- **A/S 기간**: 납품 후 2개월 무상 지원
  - 버그 수정
  - 플랫폼 UI 변경 대응

---

## 버전 정보
- **버전**: 1.7.3
- **최종 업데이트**: 2026년 2월 8일

### v1.7.3 변경사항 (2026.02.06)
- 전체 5플랫폼 통합 검증 완료 (17개 콘텐츠)
- FB 댓글 DOM 추출 2026 대응
- FB 썸네일/프로필사진 버그 수정
- FB 댓글 필드명 버그 수정

### v1.7.0 변경사항 (2026.02.04)
- 5차 피드백 11건 전수 수정
- CSV content 컬럼 caption/description fallback
- 같은 작성자 덮어쓰기 방지 (중복 감지 + 재크롤링)
- Excel 댓글 시트 추가 (작성자, 내용, 좋아요 포함)
- 샤오홍슈 content 추출 패턴 추가
- 페이스북 댓글/썸네일/좋아요 수정
- 인스타그램 댓글 작성자 매핑
- 디카드 유니코드 깨짐 수정

### v1.5.8 변경사항 (2026.01.31)
- Instagram URL별 데이터 중복 표시 수정
- Facebook share/v 링크 리다이렉트 처리
- Facebook engagement 정확도 대폭 개선
- Dcard 연속 차단 대응 (딜레이 조절)
- 조회수/좋아요/공유 데이터 유무 기반 표시 개선
